@if (isHiddenOnMobile) {
  <button
    mat-button
    type="button"
    (click)="toggleSidebar()"
    class="absolute top-2 left-2 text-gray-500 transition-opacity duration-300 cursor-pointer bg-green-800 flex justify-center items-center text-white rounded-full border-2 border-gray-50 shadow-sm"
  >
    <mat-icon class="text-white">
      {{ isCollapsed ? 'chevron_right' : 'chevron_left' }}
    </mat-icon>
  </button>
} @else {
  <div
    class="relative w-60 h-screen bg-[#FFF] flex flex-col items-center py-6 shadow-sm transition-all duration-300"
    [class.w-[90px]]="isCollapsed"
  >
    <button
      mat-button
      type="button"
      (click)="toggleSidebar()"
      class="absolute top-7 -right-4 text-gray-500 transition-opacity duration-300 cursor-pointer bg-green-800 flex justify-center items-center text-white rounded-full border-2 border-gray-50 shadow-sm"
      [class.opacity-0]="isCollapsed && !isHovered"
      [class.opacity-100]="!isCollapsed || isHovered"
      (mouseenter)="isHovered = true"
      (mouseleave)="isHovered = false"
    >
      <mat-icon class="text-white">
        {{ isCollapsed ? 'chevron_right' : 'chevron_left' }}
      </mat-icon>
    </button>

    <div class="flex flex-col gap-2 w-full px-4">
      @for (menu of menuItems; track menu.url; let i = $index) {
        <button
          mat-button
          class="flex items-center gap-2 text-gray-700 hover:bg-gray-50 hover:!text-[#000803] rounded-lg px-4 py-2 cursor-pointer transition-all duration-200"
          [ngClass]="{ 'bg-green-50': i === 3 }"
        >
          <mat-icon class="!text-[#A3A9B6] !text-[20px]" [ngClass]="{ 'mx-auto': isCollapsed }">
            {{ menu.icon }}
          </mat-icon>
          <span class="text-base" [class.hidden]="isCollapsed">
            {{ menu.name }}
          </span>
        </button>
      }
    </div>

    <div class="flex flex-col gap-2 w-full px-4 absolute bottom-3 left-0">
      <button
        mat-button
        class="flex items-center gap-2 text-gray-700 hover:!text-[#000803] rounded-lg px-4 py-2 cursor-pointer transition-all duration-200"
      >
        <mat-icon class="!text-[#A3A9B6] !text-[20px]">settings</mat-icon>
        <span class="text-base" [class.hidden]="isCollapsed">Lorem</span>
      </button>
      <button
        mat-button
        class="flex items-center gap-2 text-gray-700 hover:!text-[#000803] rounded-lg px-4 py-2 cursor-pointer transition-all duration-200"
      >
        <mat-icon class="!text-[#A3A9B6] !text-[20px]">square_dot</mat-icon>
        <span class="text-base" [class.hidden]="isCollapsed">Lorem</span>
      </button>

      <div class="flex justify-between items-center" [ngClass]="{ 'justify-center': isCollapsed }">
        <div class="flex gap-3 items-center cursor-pointer" [class.hidden]="isCollapsed">
          <mat-icon class="!text-[#A3A9B6]">account_circle</mat-icon>
          <div>
            <p class="text-base text-gray-700">Lorem</p>
            <p class="text-base text-gray-700">Lorem</p>
          </div>
        </div>
        <mat-icon class="!text-[#333] !text-[20px] cursor-pointer">logout</mat-icon>
      </div>
    </div>
  </div>
}
